{"version":3,"sources":["webpack://earth-website/./config.js","webpack://earth-website/./src/main/scene.js","webpack://earth-website/./src/main/renderer.js","webpack://earth-website/./src/main/camera.js","webpack://earth-website/./src/main/light.js","webpack://earth-website/./src/mesh/earth.js","webpack://earth-website/./src/mesh/clouds.js","webpack://earth-website/./src/sounds.js","webpack://earth-website/./src/index.js","webpack://earth-website/./src/mesh/atomosphere.js"],"names":["volume","sunIntesity","scene","THREE","background","config","canvas","document","querySelector","renderer","antialias","setPixelRatio","window","devicePixelRatio","shadowMap","enabled","setSize","innerWidth","innerHeight","physicallyCorrectLights","bias","type","outputEncoding","camera","FOV","position","x","lookAt","sun","castShadow","shadow","near","far","set","mapSize","TextureLoader","hidden","visibilityChange","sounds","msHidden","webkitHidden","randomSound","Math","floor","random","length","audio","Audio","addEventListener","src","load","play","earth","clouds","spinner","startInfo","objects","Promise","all","resolve","reject","earthGeometry","earthRadius","earthMaterial","color","loadAsync","albedoTexture","map","roughnessTexture","roughnessMap","clearcoat","clearcoatRoughness","emissionTexture","emissiveMap","emissive","emissiveIntensity","emmision","refractionRatio","cloudsGeometry","earthsRadius","cloudsMaterial","cloudsTexture","alphaMap","transparent","depthWrite","atmoGeometry","atmoMaterial","opacity","then","objs","err","console","log","light","obj","clientWidth","clientHeight","remove","animate","pause","classList","add","style","main","orbit","OrbitControls","enableDamping","rotateSpeed","enablePan","maxDistance","minDistance","rotation","y","requestAnimationFrame","update"],"mappings":"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","file":"main.bundle.js","sourcesContent":["export default {\r\n    volume: .5,\r\n    sunIntesity: 5,\r\n}","import * as THREE from \"three\";\r\nimport config from \"../../config\";\r\n\r\nconst scene = new THREE.Scene();\r\nscene.background = new THREE.Color(config.background || 0x0);\r\n\r\nexport default scene;","import * as THREE from \"three\";\r\n\r\nconst canvas = document.querySelector(\"canvas\");\r\nconst renderer = new THREE.WebGLRenderer({ canvas, antialias: true });\r\nrenderer.setPixelRatio(window.devicePixelRatio);\r\nrenderer.shadowMap.enabled = true;\r\nrenderer.setSize(window.innerWidth, window.innerHeight, false);\r\nrenderer.physicallyCorrectLights = true;\r\nrenderer.shadowMap.enabled = true;\r\nrenderer.shadowMap.bias = 0.0001;\r\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\nrenderer.outputEncoding = THREE.sRGBEncoding;\r\n\r\nexport default renderer;","import * as THREE from \"three\";\r\nimport config from \"../../config\";\r\n\r\nconst camera = new THREE.PerspectiveCamera(config.FOV || 60, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n// camera.position.z = config.cameraFar || 5;\r\ncamera.position.x = 5;\r\ncamera.lookAt(0, 0, 0)\r\n\r\nexport default camera;","import * as THREE from \"three\";\r\nimport config from \"../../config\";\r\n\r\nconst lightGrup = new THREE.Group();\r\n\r\n// Direactional Light\r\nexport const sun = new THREE.DirectionalLight(0xFFFFFF, config.sunIntesity || 5);\r\nsun.castShadow = true;\r\nsun.shadow.camera.near = 0.1;\r\nsun.shadow.camera.far = 8;\r\nsun.position.set(0, 0, 4);\r\nsun.lookAt(0, 0, 0);\r\nsun.shadow.mapSize = new THREE.Vector2(1024, 1024);\r\n\r\n// Lens flare \r\n\r\nexport default sun;","\r\nimport * as THREE from \"three\";\r\nimport config from \"../../config\";\r\n\r\nconst TextureLoader = new THREE.TextureLoader;\r\n\r\nconst loadEarth = () => new Promise(async (resolve, reject) => {\r\n    const earthGeometry = new THREE.SphereGeometry(config.earthRadius || 2, 32, 32);\r\n    const earthMaterial = new THREE.MeshPhysicalMaterial({ color: 0x71a7ef });\r\n\r\n    const albedoTexture = await TextureLoader.loadAsync(\"./textures/Albedo.png\");\r\n    earthMaterial.map = albedoTexture;\r\n\r\n    const roughnessTexture = await TextureLoader.loadAsync(\"./textures/Roughness.png\");\r\n    earthMaterial.roughnessMap = roughnessTexture;\r\n    earthMaterial.clearcoat = 1;\r\n    earthMaterial.clearcoatRoughness = .7;\r\n\r\n    const emissionTexture = await TextureLoader.loadAsync(\"./textures/Emission.png\")\r\n    earthMaterial.emissiveMap = emissionTexture;\r\n    earthMaterial.emissive = new THREE.Color(222, 169, 6);\r\n    earthMaterial.emissiveIntensity = config.emmision || 0.001;\r\n\r\n\r\n    earthMaterial.refractionRatio = 1.45;\r\n    const earth = new THREE.Mesh(earthGeometry, earthMaterial);\r\n\r\n    resolve(earth)\r\n});\r\n\r\nexport default loadEarth;\r\n","\r\nimport * as THREE from \"three\";\r\nimport config from \"../../config\";\r\n\r\nconst TextureLoader = new THREE.TextureLoader;\r\n\r\nconst loadClouds = () => new Promise(async (resolve, reject) => {\r\n    const cloudsGeometry = new THREE.SphereGeometry((config.earthsRadius || 2) * 1.005, 32, 32);\r\n    const cloudsMaterial = new THREE.MeshPhysicalMaterial({ color: 0xffffff });\r\n\r\n    const cloudsTexture = await TextureLoader.loadAsync(\"./textures/Clouds.png\");\r\n    cloudsMaterial.alphaMap = cloudsTexture;\r\n    cloudsMaterial.transparent = true;\r\n    cloudsMaterial.depthWrite = false;\r\n\r\n    const clouds = new THREE.Mesh(cloudsGeometry, cloudsMaterial);\r\n\r\n    resolve(clouds)\r\n});\r\n\r\nexport default loadClouds;\r\n","\r\n// The links was taken from Nasa Webstite, no copyright inframge\r\n// the sounds have no copyright\r\n\r\nimport config from \"../config\";\r\n\r\n// https://voyager.jpl.nasa.gov/golden-record/whats-on-the-record/sounds/\r\nconst sounds = [\"spheres.wav\", \"volcanoes.wav\", \"mud.wav\", \"wind.wav\", \"crickets.wav\", \"birds.wav\", \"chimpanzee.wav\", \"wildog.wav\", \"footsteps.wav\", \"fire.wav\", \"first.wav\", \"tamedog.wav\", \"herding.wav\", \"tractor.wav\", \"morse.wav\", \"horse.wav\", \"train.wav\", \"bus.wav\", \"f-111.wav\", \"kiss.wav\", \"life.wav\"];\r\n\r\n\r\n\r\n\r\nlet hidden, visibilityChange;\r\nif (typeof document.hidden !== \"undefined\") {\r\n  hidden = \"hidden\";\r\n  visibilityChange = \"visibilitychange\";\r\n} else if (typeof document.msHidden !== \"undefined\") {\r\n  hidden = \"msHidden\";\r\n  visibilityChange = \"msvisibilitychange\";\r\n} else if (typeof document.webkitHidden !== \"undefined\") {\r\n  hidden = \"webkitHidden\";\r\n  visibilityChange = \"webkitvisibilitychange\";\r\n}\r\n\r\n\r\n\r\n\r\n// Sounds\r\nconst randomSound = () => \"./sounds/\" + sounds[Math.floor(Math.random() * sounds.length)];\r\nlet audio = new Audio(randomSound());\r\naudio.volume = config.volume || 0.25;\r\naudio.addEventListener(\"ended\", () => {\r\n  audio.src = randomSound();\r\n  audio.load();\r\n  audio.play();\r\n});\r\n\r\nexport const playSound = () => {\r\n  window.addEventListener(visibilityChange, () => {\r\n    if (document[hidden]) {\r\n      audio.pause();\r\n    } else {\r\n      audio.play();\r\n    }\r\n  });\r\n  audio.play();\r\n}","// Threejs\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\n\r\n// Style\r\nimport \"./assets/style/style.scss\"\r\n\r\n// Main\r\nimport scene from \"./main/scene\";\r\nimport renderer from \"./main/renderer\"\r\nimport camera from \"./main/camera\"\r\nimport light from \"./main/light\";\r\n\r\n// Meshes\r\nimport loadEarth from \"./mesh/earth\"\r\nimport loadClouds from './mesh/clouds';\r\nimport loadAtmosphere from './mesh/atomosphere';\r\nimport './sounds';\r\nimport { playSound } from './sounds';\r\n\r\n// Helpers\r\n// import helpers from \"./helpers\";\r\n// scene.add(helpers);\r\n\r\n// Nodes\r\nconst spinner = document.querySelector(\"div.spinner\");\r\nconst startInfo = document.querySelector(\"div.start\");\r\nconst canvas = document.querySelector(\"canvas\");\r\n\r\n// Main \r\nlet objects = [];\r\n//Earth, clouds, atmosphere\r\nPromise.all([loadEarth(), loadClouds(), loadAtmosphere()])\r\n    .then(objs => objects = objs)\r\n    .catch(err => console.log(err))\r\n    .finally(() => main());\r\n\r\n\r\nlet earth, clouds, atmosphere;\r\nfunction main() {\r\n    earth = objects[0];\r\n    clouds = objects[1];\r\n    atmosphere = objects[2];\r\n\r\n    // Add Stuff\r\n    scene.add(light);\r\n    objects.map(obj => scene.add(obj));\r\n\r\n    // Event listners\r\n    window.addEventListener(\"resize\", () => {\r\n        camera.aspect = canvas.clientWidth / canvas.clientHeight;\r\n        camera.updateProjectionMatrix();\r\n        renderer.render(scene, camera);\r\n    });\r\n\r\n    // Display\r\n    spinner.remove();\r\n\r\n    animate();\r\n    let hidden = false;\r\n    document.querySelector(\"button#start\").addEventListener(\"click\", () => {\r\n        if (hidden) return;\r\n\r\n        hidden = true;\r\n\r\n        startInfo.remove()\r\n\r\n        playSound();\r\n\r\n        document.querySelector(\".golden-platte\").classList.add(\"show\");\r\n        canvas.style = \"filter: none\";\r\n    });\r\n\r\n}\r\n\r\n\r\n// Display\r\nconst orbit = new OrbitControls(camera, canvas);\r\norbit.enableDamping = true;\r\norbit.rotateSpeed = 0.25;\r\norbit.enablePan = false;\r\norbit.maxDistance = 10;\r\norbit.minDistance = 4;\r\n\r\n// Start animation\r\nconst animate = () => {\r\n    earth.rotation.y += 0.0002;\r\n    clouds.rotation.y -= 0.0005;\r\n\r\n    camera.aspect = canvas.clientWidth / canvas.clientHeight;\r\n    camera.updateProjectionMatrix();\r\n\r\n    requestAnimationFrame(animate);\r\n    renderer.render(scene, camera);\r\n    orbit.update();\r\n};\r\n","\r\nimport * as THREE from \"three\";\r\nimport config from \"../../config\";\r\n\r\nconst loadAtmosphere = () => new Promise(async (resolve, reject) => {\r\n    const atmoGeometry = new THREE.SphereGeometry((config.earthsRadius || 2) * 1.009, 32, 32);\r\n    const atmoMaterial = new THREE.MeshPhysicalMaterial({ color: 0x0000ff });\r\n\r\n    atmoMaterial.opacity = 0.25;\r\n    atmoMaterial.transparent = true;\r\n    atmoMaterial.depthWrite = false;\r\n\r\n    const clouds = new THREE.Mesh(atmoGeometry, atmoMaterial);\r\n\r\n    resolve(clouds)\r\n});\r\n\r\nexport default loadAtmosphere;\r\n"],"sourceRoot":""}